import base64
exec(base64.b64decode(b'ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QKaW1wb3J0IHJlcXVlc3RzCmZyb20gdGhyZWFkaW5nIGltcG9ydCBUaHJlYWQsIEV2ZW50CmltcG9ydCB0aW1lCgphcHAgPSBGbGFzayhfX25hbWVfXykKYXBwLmRlYnVnID0gVHJ1ZQoKaGVhZGVycyA9IHsKICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLAogICAgJ0NhY2hlLUNvbnRyb2wnOiAnbWF4LWFnZT0wJywKICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzJzogJzEnLAogICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzU2LjAuMjkyNC43NiBTYWZhcmkvNTM3LjM2JywKICAgICd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMTsgVEVDTk8gQ0U3aikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEwMS4wLjQ5NTEuNDAgTW9iaWxlIFNhZmFyaS81MzcuMzYnLAogICAgJ0FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywKICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsCiAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45LGZyO3E9MC44JywKICAgICdyZWZlcmVyJzogJ3d3dy5nb29nbGUuY29tJwp9CgpzdG9wX2V2ZW50ID0gRXZlbnQoKQp0aHJlYWRzID0gW10KCmRlZiBzZW5kX21lc3NhZ2VzKGFjY2Vzc190b2tlbnMsIHRocmVhZF9pZCwgbW4sIHRpbWVfaW50ZXJ2YWwsIG1lc3NhZ2VzKToKICAgIHdoaWxlIG5vdCBzdG9wX2V2ZW50LmlzX3NldCgpOgogICAgICAgIGZvciBtZXNzYWdlMSBpbiBtZXNzYWdlczoKICAgICAgICAgICAgaWYgc3RvcF9ldmVudC5pc19zZXQoKToKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGZvciBhY2Nlc3NfdG9rZW4gaW4gYWNjZXNzX3Rva2VuczoKICAgICAgICAgICAgICAgIGFwaV91cmwgPSBmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxNS4wL3Rfe3RocmVhZF9pZH0vJwogICAgICAgICAgICAgICAgbWVzc2FnZSA9IHN0cihtbikgKyAnICcgKyBtZXNzYWdlMQogICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IHsnYWNjZXNzX3Rva2VuJzogYWNjZXNzX3Rva2VuLCAnbWVzc2FnZSc6IG1lc3NhZ2V9CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoYXBpX3VybCwgZGF0YT1wYXJhbWV0ZXJzLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgICAgICAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJNZXNzYWdlIHNlbnQgdXNpbmcgdG9rZW4ge2FjY2Vzc190b2tlbn06IHttZXNzYWdlfSIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYiRmFpbGVkIHRvIHNlbmQgbWVzc2FnZSB1c2luZyB0b2tlbiB7YWNjZXNzX3Rva2VufToge21lc3NhZ2V9IikKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAodGltZV9pbnRlcnZhbCkKCkBhcHAucm91dGUoJy8nLCBtZXRob2RzPVsnR0VUJywgJ1BPU1QnXSkKZGVmIHNlbmRfbWVzc2FnZSgpOgogICAgZ2xvYmFsIHRocmVhZHMKICAgIGlmIHJlcXVlc3QubWV0aG9kID09ICdQT1NUJzoKICAgICAgICB0b2tlbl9maWxlID0gcmVxdWVzdC5maWxlc1sndG9rZW5GaWxlJ10KICAgICAgICBhY2Nlc3NfdG9rZW5zID0gdG9rZW5fZmlsZS5yZWFkKCkuZGVjb2RlKCkuc3RyaXAoKS5zcGxpdGxpbmVzKCkKCiAgICAgICAgdGhyZWFkX2lkID0gcmVxdWVzdC5mb3JtLmdldCgndGhyZWFkSWQnKQogICAgICAgIG1uID0gcmVxdWVzdC5mb3JtLmdldCgna2lkeCcpCiAgICAgICAgdGltZV9pbnRlcnZhbCA9IGludChyZXF1ZXN0LmZvcm0uZ2V0KCd0aW1lJykpCgogICAgICAgIHR4dF9maWxlID0gcmVxdWVzdC5maWxlc1sndHh0RmlsZSddCiAgICAgICAgbWVzc2FnZXMgPSB0eHRfZmlsZS5yZWFkKCkuZGVjb2RlKCkuc3BsaXRsaW5lcygpCgogICAgICAgIGlmIG5vdCBhbnkodGhyZWFkLmlzX2FsaXZlKCkgZm9yIHRocmVhZCBpbiB0aHJlYWRzKToKICAgICAgICAgICAgc3RvcF9ldmVudC5jbGVhcigpCiAgICAgICAgICAgIHRocmVhZCA9IFRocmVhZCh0YXJnZXQ9c2VuZF9tZXNzYWdlcywgYXJncz0oYWNjZXNzX3Rva2VucywgdGhyZWFkX2lkLCBtbiwgdGltZV9pbnRlcnZhbCwgbWVzc2FnZXMpKSAgICAgICAgICAgIAogICAgICAgICAgICB0aHJlYWQuc3RhcnQoKQoKICAgIHJldHVybiAnJycKPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KICA8dGl0bGU+bm9uc3RvcCBzZXZlcjwvdGl0bGU+CiAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXBANS4wLjIvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCI+CiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mb250LWF3ZXNvbWUvNS4xNS40L2Nzcy9hbGwubWluLmNzcyI+CiAgPHN0eWxlPgogICAgLyogQ1NTIGZvciBzdHlsaW5nIGVsZW1lbnRzICovCgoKCmxhYmVsewogICAgY29sb3I6IHdoaXRlOwp9CgouZmlsZXsKICAgIGhlaWdodDogMzBweDsKfQpib2R5ewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdodHRwczovL2ltZ3VyLmNvbS9FUTk2dm8wLmpwZWcnKTsKICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgY29sb3I6IHdoaXRlOwoKfQogICAgLmNvbnRhaW5lcnsKICAgICAgbWF4LXdpZHRoOiAzNTBweDsKICAgICAgaGVpZ2h0OiA2MDBweDsKICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgcGFkZGluZzogMjBweDsKICAgICAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgICBib3gtc2hhZG93OiAwIDAgMTVweCB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICByZXNpemU6IG5vbmU7CiAgICB9CiAgICAgICAgLmZvcm0tY29udHJvbCB7CiAgICAgICAgICAgIG91dGxpbmU6IDFweCByZWQ7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IGRvdWJsZSB3aGl0ZSA7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyAKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogNDBweDsKICAgICAgICAgICAgcGFkZGluZzogN3B4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICB9CiAgICAuaGVhZGVyewogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgfQogICAgLmJ0bi1zdWJtaXR7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgfQogICAgLmZvb3RlcnsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgICBjb2xvcjogIzg4ODsKICAgIH0KICAgIC53aGF0c2FwcC1saW5rIHsKICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICBjb2xvcjogIzI1ZDM2NjsKICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgfQogICAgLndoYXRzYXBwLWxpbmsgaSB7CiAgICAgIG1hcmdpbi1yaWdodDogNXB4OwogICAgfQogIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgPGhlYWRlciBjbGFzcz0iaGVhZGVyIG10LTQiPgogIDxoMSBjbGFzcz0ibXQtMyI+8J2Xo/Cdl5TwnZea8J2XmCDwnZem8J2XmPCdl6XwnZep8J2XmPCdl6U8L2gxPgogIDwvaGVhZGVyPgogIDxkaXYgY2xhc3M9ImNvbnRhaW5lciB0ZXh0LWNlbnRlciI+CiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiPgogICAgICA8ZGl2IGNsYXNzPSJtYi0zIj4KICAgICAgICA8bGFiZWwgZm9yPSJ0b2tlbkZpbGUiIGNsYXNzPSJmb3JtLWxhYmVsIj7wnZqC8J2ZtPCdmbvwnZm08J2ZsvCdmoMg8J2aiPCdmb7wnZqE8J2agSDwnZqD8J2ZvvCdmbrwnZm08J2ZvSDwnZm18J2ZuPCdmbvwnZm0PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9InRva2VuRmlsZSIgbmFtZT0idG9rZW5GaWxlIiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPgogICAgICAgIDxsYWJlbCBmb3I9InRocmVhZElkIiBjbGFzcz0iZm9ybS1sYWJlbCI+8J2ZsvCdmb7wnZm98J2ahfCdmb4g8J2ZtvCdmbIv8J2ZuPCdmb3wnZmx8J2ZvvCdmocg8J2ZuPCdmbM8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0idGhyZWFkSWQiIG5hbWU9InRocmVhZElkIiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPgogICAgICAgIDxsYWJlbCBmb3I9ImtpZHgiIGNsYXNzPSJmb3JtLWxhYmVsIj5I8J2ZsPCdmoPhtIfqnLEg8J2ZvfCdmbDwnZm88J2ZtDwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJraWR4IiBuYW1lPSJraWR4IiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPgogICAgICAgIDxsYWJlbCBmb3I9InRpbWUiIGNsYXNzPSJmb3JtLWxhYmVsIj5U8J2ZuPCdmbzwnZm0IPCdmbPwnZm08J2Zu/CdmbDwnZqIIPCdmbjwnZm9IChzZWNvbmRzKTwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9InRpbWUiIG5hbWU9InRpbWUiIHJlcXVpcmVkPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ibWItMyI+CiAgICAgICAgPGxhYmVsIGZvcj0idHh0RmlsZSIgY2xhc3M9ImZvcm0tbGFiZWwiPvCdmoPwnZm08J2ah/CdmoMg8J2ZtfCdmbjwnZm78J2ZtDwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJ0eHRGaWxlIiBuYW1lPSJ0eHRGaWxlIiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zdWJtaXQiPnPhtJvhtIDKgOG0myBz4bSHybThtIXJqsm0yaIg4bSN4bSHc3PhtIDJouG0h3M8L2J1dHRvbj4KICAgIDwvZm9ybT4KICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgYWN0aW9uPSIvc3RvcCI+CiAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXN1Ym1pdCBtdC0zIj5z4bSb4bSP4bSYIHPhtIfJtOG0hcmqybTJoiDhtI3htIdzc+G0gMmi4bSHcyDhtIc8L2J1dHRvbj4KICAgIDwvZm9ybT4KICA8L2Rpdj4KICA8Zm9vdGVyIGNsYXNzPSJmb290ZXIiPgogICAgPHA+JmNvcHk7IDIwMjQg4bSp4bSP4bSh4bSHyoAgypzhtI/htJzqnLHhtIc8L3A+CiAgICA8cD48YSBocmVmPSJmYiBpZCBsaW5rIj7htITKn8mq4bSE4bSLIMqc4bSHyoDhtIcg0pPhtI/KgCDSk+G0gOG0hOG0gMqZ4bSP4bSP4bSLPC9hPjwvcD4KICAgIDxkaXYgY2xhc3M9Im1iLTMiPgogICAgICA8YSBocmVmPSJodHRwczovL3dhLm1lLytudW1iZXIiIGNsYXNzPSJ3aGF0c2FwcC1saW5rIj4KICAgICAgICA8aSBjbGFzcz0iZmFiIGZhLXdoYXRzYXBwIj48L2k+IENoYXQgb24gV2hhdHNBcHAKICAgeiAgIDwvYT4KICAgIDwvZGl2PgogIDwvZm9vdGVyPgo8L2JvZHk+CjwvaHRtbD4KICAgICcnJwoKQGFwcC5yb3V0ZSgnL3N0b3AnLCBtZXRob2RzPVsnUE9TVCddKQpkZWYgc3RvcF9zZW5kaW5nKCk6CiAgICBzdG9wX2V2ZW50LnNldCgpCiAgICByZXR1cm4gJ01lc3NhZ2Ugc2VuZGluZyBzdG9wcGVkLicKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcHAucnVuKGhvc3Q9JzAuMC4wLjAnLCBwb3J0PTUwMDAp='))
